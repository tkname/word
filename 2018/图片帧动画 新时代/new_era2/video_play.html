<html>
<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0"/>
    <title>新时代</title>
    <link href="css/main.min.css?v=5555" type="text/css" rel="stylesheet"/>
    <script type="text/javascript" src="js/fiex.js"></script>
<!-- <script src="//cdn.bootcss.com/eruda/1.4.2/eruda.min.js"></script>
<script>eruda.init();</script> -->
    <style type="text/css">
        body{
          overflow: hidden;
          width: 100%;
          height: 100%;
        }
        video {
            width: 100%;
            display: block;
            position: absolute;
            left: 0;
            top: 0;
            object-fit: fill;
            height: 100%;
            /*top: 128px;*/
        }

       .spinner {
        width: 50px;
        height: 60px;
        text-align: center;
        font-size: 10px;
        position: absolute;
        top: 50%;
        left: 50%;
        transform:translate(-50%,-50%); 
      }
       
      .spinner > div {
        background-color: #ebba00;
        height: 100%;
        width: 4px;
        display: inline-block;
         
        -webkit-animation: stretchdelay 1.2s infinite ease-in-out;
        animation: stretchdelay 1.2s infinite ease-in-out;
      }
       
      .spinner .rect2 {
        -webkit-animation-delay: -1.1s;
        animation-delay: -1.1s;
      }
       
      .spinner .rect3 {
        -webkit-animation-delay: -1.0s;
        animation-delay: -1.0s;
      }
       
      .spinner .rect4 {
        -webkit-animation-delay: -0.9s;
        animation-delay: -0.9s;
      }
       
      .spinner .rect5 {
        -webkit-animation-delay: -0.8s;
        animation-delay: -0.8s;
      }
       
      @-webkit-keyframes stretchdelay {
        0%, 40%, 100% { -webkit-transform: scaleY(0.4) } 
        20% { -webkit-transform: scaleY(1.0) }
      }
       
      @keyframes stretchdelay {
        0%, 40%, 100% {
          transform: scaleY(0.4);
          -webkit-transform: scaleY(0.4);
        }  20% {
          transform: scaleY(1.0);
          -webkit-transform: scaleY(1.0);
        }
      }
      .play{
        position: absolute;
        width: 100%;
        height: 100%;
        background: url(images/bg.png) no-repeat;
        background-size: cover;
      }
      .play-button{
        position: absolute;
        left: 100px;
        top: 100px;
        z-index: 1000;
      }     
      
      .none{display: none;}  
    </style>
  </head>
  <body>
    <div class="wrapper">

      <section class="loading">
        <div class="spinner">
          <div class="rect1"></div>
          <div class="rect2"></div>
          <div class="rect3"></div>
          <div class="rect4"></div>
          <div class="rect5"></div>
        </div>
      </section>
      
      <section class="play none">
        <div class="title-top rph"></div>
        <div class="logo ">
          <div class="logo-m rph"></div>
          <div class="logo-line1"></div>
          <div class="logo-line2"></div>
          <div class="logo-line3"></div>

        </div>
        <div class="title-bottom rph"></div>
      </section>      
      

      <div class="animation-play">
        
      </div>

      <video class="none" id="canvasVideo" poster="images/bg.png"  src="video/H5-1-2.mp4" x5-video-player-type="h5" x5-video-player-fullscreen="true" x5-video-orientation="portraint" webkit-playsinline playsinline x5-playsinline x-webkit-airplay="allow"></video>
        
      <canvas id="canvas" class="none"></canvas>

    </div>
    

    <script type="text/javascript" src="js/jquery.min.js"></script>
    <script type="text/javascript" src="js/share.js?v=6"></script>
    <script type="text/javascript" src="js/swiper.min.js"></script>
    <script type="text/javascript" src="js/TweenMax.min1.16.1.js"></script>
    <script type="text/javascript" src="js/SplitText.min.js"></script>
    <script type="text/javascript" src="http://res.wx.qq.com/open/js/jweixin-1.2.0.js"></script>
    <script type="text/javascript" src="js/createjs-2015.11.26.min.js"></script>
    <script type="text/javascript" src="js/loading.js?v=6"></script>
    <script type="text/javascript" src="js/main_play.js?v=6"></script>
    
    <script type="text/javascript">
      $(function(){
        var video=$("#canvasVideo")[0];
        var click_one=true;
        $(".animation-play").on("click touchmove",function(){
          if(click_one){
            $(".logo").addClass("none");
            $("#canvasVideo").removeClass("none");
            createCanvas();
            click_one=false;
            video.currentTime=10;
          }
          $(this).addClass("none");
          $("#canvasVideo")[0].play();
          state_click=true;
        })

        var ar=[10.8,22.8,34.6,46.8,53]
        var ss=0;


        function createCanvas(){
          canvas = document.getElementById('canvas');
          stage = new createjs.Stage(canvas);
      

          createjs.Ticker.framerate = 18;
          createjs.Ticker.addEventListener("tick",function(event){
          
            console.log(video.currentTime);
            if(video.currentTime>=ar[ss] && state_click){
            $(".animation-play").removeClass("none");
              video.pause();
              ss++;
              console.log(ss);
              if(ss>4){
                ss=0;
              }
              state_click=false;

            }

          })

        }

      })
    </script>

  </body>
</html>
</html>