<!DOCTYPE html>
<html>
  <head>
    <title>btcusdt行情</title>
  </head>
  <body>

<link href="css/main.css" rel="stylesheet" />

<script src="js/require.js"></script>
<script  >
  if (typeof Object.assign != 'function') {
    Object.assign = function(target) {
      'use strict';
      if (target == null) {
        throw new TypeError('Cannot convert undefined or null to object');
      }

      target = Object(target);
      for (var index = 1; index < arguments.length; index++) {
        var source = arguments[index];
        if (source != null) {
          for (var key in source) {
            if (Object.prototype.hasOwnProperty.call(source, key)) {
              target[key] = source[key];
            }
          }
        }
      }
      return target;
    };
  }
</script>
<style type="text/css">
    .kline {
        width: 100%;
        margin-left: auto;
        margin-right: auto;
        height: 460px;
        position: relative;
        background-color: transparent;
    }
</style>


<div class="kline">
    <div id="kline_container"></div>
</div>


<script  type="text/javascript">

    require.config({
        paths: {
            // "jquery": "https://www.inktrend.net/js/jquery",
            // "jquery.mousewheel": "https://www.inktrend.net/js/jquery.mousewheel",
            // "sockjs": "https://www.inktrend.net/js/sockjs",
            // "stomp": "https://www.inktrend.net/js/stomp",
            // "kline": "https://www.inktrend.net/js/kline.min"
            "jquery": "https://www.chaoex.info/static/js/jquery",
            "jquery.mousewheel": "https://www.chaoex.info/static/js/jquery.mousewheel",
            "sockjs": "https://www.chaoex.info/static/js/sockjs",
            "stomp": "https://www.chaoex.info/static/js/stomp",
            "kline": "https://www.chaoex.info/static/js/kline.min",
        },
        shim: {
            "jquery.mousewheel": {
                deps: ["jquery"]
            },
            "kline": {
                deps: ["jquery.mousewheel", "sockjs", "stomp"]
            }
        }
    })

    require(['kline'], function () {
        var kline = new Kline({
            element: "#kline_container",
            width: 1250,
            height: 880,
            theme: 'dark', // light/dark
            language: 'en-us', // zh-cn/en-us/zh-tw
            // ranges: ["1w", "1d", "1h", "30m", "15m", "5m", "1m", "line"],
            ranges: ["1M", "1w", "1d","12h", "6h","4h", "2h","1h", "30m", "15m", "5m", "1m", "line"],
            symbol: "btcusdt",
        symbolName: "btcusdt",
        type: "poll", // poll/socket
        url: "https://www.chaoex.info/dataop/get_chaoex_kline", //mock.json", --}},
            // url: "https://www.inktrend.net/dataop/get_chaoex_kline",
        // url:"/mock.json",
        limit: 1000,
        intervalTime: 30 * 1000,
        debug: false,
        showTrade: false
    })

    kline.draw()

    $(Kline.instance.element).css({
        position: 'fixed',
        left: '0',
        right: '0',
        top: '0',
        bottom: '0',
        width: '100%',
        height: '100%',
        zIndex: '10000'
    });

    kline.resize()

    $(window).resize(function () {

        $(Kline.instance.element).css({
            position: 'fixed',
            left: '0',
            right: '0',
            top: '0',
            bottom: '0',
            width: '100%',
            height: '100%',
            zIndex: '10000'
        });

        kline.resize();

    });


        })

</script>

  </body>
</html>
